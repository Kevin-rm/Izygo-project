<!DOCTYPE html>
<html lang="en" ng-app="busApp">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="shortcut icon"
      href="../assets/icons/logoBlye.ico"
      type="image/x-icon"
    />
    <title>Template</title>
    <link rel="stylesheet" href="../assets/icons/font/bootstrap-icons.css" />
    <link rel="stylesheet" href="../assets/css/bootstrap.css" />
    <link rel="stylesheet" href="../assets/css/template.css" />
    <!-- <link rel="stylesheet" href="../assets/vendor/fontawesome-free/css/all.min.css"> -->
  </head>

  <body ng-controller="BusController">
    <!-- Navigation -->
    <nav class="navbar navbar-expand-md">
      <div class="container px-5">
        <a class="navbar-brand" href="template.html"
          ><img src="../assets/icons/logoBlye.png" alt="" width="50"
        /></a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ms-auto mb-2 mb-lg-0 gap-lg-5">
            <li class="nav-item">
              <a class="nav-link" href="landing-page.html">Accueil</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="search-route.html"
                >Rechercher un itinéraire</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="booking-bus.html">Réserver</a>
            </li>
            <li class="nav-item position-relative">
              <a class="nav-link" href="notification.html">
                <div class="notification-container">
                  Notifications
                  <div class="notification-badge">{{ notificationCount }}</div>
                </div>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="profile.html">Profil</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Eto ampivony ianareo no manisy ny content-anareo -->
    <div class="container px-5 py-5 bg-light">
       <h2 class="fw-bolder title">DASHBOARD</h2>
       <div class="row">
              <!-- chiffre d'affaire -->
              <div class="col-md-6">
                     <div class="py-4 mt-2 mb-4 bg-violet rounded-5">
                            <div class="card-body px-5">
                                   <form action="#">
                                     <div>
                                          <h4>
                                                 <label class="form-control-plaintext light">Chiffres d'affaire</label>
                                          </h4>
                                     </div>
                                     <div class="row">
                                       <div class="col-md-6 pb-2 pb-md-0">
                                          <label class="form-control-plaintext light">Début</label>
                                          <input required class="form-control" type="date" ng-model="dateDebut"/>
                                       </div>
                                       <div class="col-md-6">
                                          <label class="form-control-plaintext light">Fin</label>
                                          <input required class="form-control" type="date" ng-model="dateFin"/>
                                       </div>
                                     </div>
                                     <div>
                                          <h3><label class="form-control-plaintext light">{{ chiffreAffaire | number:0 }} Ar</label></h3>
                                        </div>
                                   </form>
                            </div>
                     </div>
                     <div class="card shadow mb-4 bg-white rounded-5">
                            <div class="card-body">
                                <div class="chart-area">
                                   <canvas id="myAreaChart"></canvas>
                                </div>
                                <hr>
                                <p  class="violet text-center"> Graphe (/an) Chiffre d'Affaire</p>
                            </div>
                        </div>
              </div>
              <!-- --- Clientele--- -->
              <div class="col-md-6">
                     <div class="py-4 mt-2 mb-4 bg-violet rounded-5">
                            <div class="card-body px-5">
                                   <form action="#">
                                     <div>
                                          <h4>
                                              <label class="form-control-plaintext light">Clientèle Moyenne</label>
                                          </h4>
                                     </div>
                                     <div class="row">
                                       <div class="col-md-6 pb-2 pb-md-0">
                                          <label class="form-control-plaintext light">Début</label>
                                          <input required class="form-control" type="date" ng-model="dateDebut"/>
                                       </div>
                                       <div class="col-md-6">
                                          <label class="form-control-plaintext light">Fin</label>
                                          <input required class="form-control" type="date" ng-model="dateFin"/>
                                       </div>
                                     </div>
                                     <div>
                                          <h3><label class="form-control-plaintext light">{{ reservation }} réservation(s)</label></h3>
                                        </div>
                                   </form>
                            </div>
                     </div>
                     <div class="card shadow mb-4 bg-white rounded-5">
                            <div class="card-body">
                                <div class="chart-area">
                                   <canvas id="myAreaChart2"></canvas>
                                </div>
                                <hr>
                                <p class="violet text-center"> Graphe (/an) Clientèle</p>
                            </div>
                        </div>
              </div>
       </div>
       <div class="d-flex justify-content-center">
          <!-- --------- reservation------------- -->
          <div class="col-xl-6 col-lg-5">
                  <div class="card shadow mb-4  bg-white rounded-5">
                        <!-- Card Header - Dropdown -->
                        <div class="card-header py-3">
                                <h6 class=" violet text-center">Réservations (%)</h6>
                        </div>
                        <!-- Card Body -->
                        <div class="card-body">
                            <div class="chart-pie">
                              <canvas id="myPieChart"></canvas>
                            </div>
                                <hr>
                            <div class="mt-4 text-center small">
                                  <span class="mr-2">
                                          <i class="bi bi-circle-fill text-primary"></i> Kiosque
                                  </span>
                                  <span class="mr-2">
                                          <i class="bi bi-circle-fill text-success"></i> Compte
                                  </span>
                            </div>
                        </div>
                  </div>
          </div>
       </div>
   </div>

    <!-- Footer -->
    <footer class="py-4 mt-auto">
      <div class="container px-5">
        <div
          class="row align-items-center justify-content-center flex-column flex-sm-row"
        >
          <div class="col-auto">
            <div class="text-center m-0">
              Copyright &copy; 2024 Izy-Go. All Rights Reserved.
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- Bootstrap core JS -->
       <script src="../assets/js/bootstrap.bundle.js"></script>
       <script src="../assets/js/angular.min.js"></script>
       <script src="../assets/js/Chart.min.js"></script>
       <script src="../assets/js/graphes.js"></script>
       <script>
       var app = angular.module("busApp", []);
       app.controller("BusController", [
              "$scope",
              function ($scope) {
                     $scope.notificationCount = 5; // Count notifications, this can be dynamically updated

                     var today = new Date();
                     var currentYear = new Date().getFullYear();
                     $scope.dateDebut = new Date(currentYear,0,1);
                     $scope.dateFin = today;

                     $scope.chiffreAffaire = 20000 ;
                     $scope.reservation = 150 ;
              },
       ]);
       </script>
  </body>
</html>
